!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}for(var n=e((function(e){!function(t,n){e.exports?e.exports=n():t.nearley=n()}(t,(function(){function t(e,n,r){return this.id=++t.highestId,this.name=e,this.symbols=n,this.postprocess=r,this}function e(t,e,n,r){this.rule=t,this.dot=e,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===t.symbols.length}function n(t,e){this.grammar=t,this.index=e,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(t,e){this.rules=t,this.start=e||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(t){n.hasOwnProperty(t.name)||(n[t.name]=[]),n[t.name].push(t)}))}function i(){this.reset("")}function o(t,e,o){if(t instanceof r){var u=t;o=e}else u=r.fromCompiled(t,e);for(var a in this.grammar=u,this.options={keepHistory:!1,lexer:u.lexer||new i},o||{})this.options[a]=o[a];this.lexer=this.options.lexer,this.lexerState=void 0;var s=new n(u,0);this.table=[s],s.wants[u.start]=[],s.predict(u.start),s.process(),this.current=0}return t.highestId=0,t.prototype.toString=function(t){function e(t){return t.literal?JSON.stringify(t.literal):t.type?"%"+t.type:t.toString()}var n=void 0===t?this.symbols.map(e).join(" "):this.symbols.slice(0,t).map(e).join(" ")+" ● "+this.symbols.slice(t).map(e).join(" ");return this.name+" → "+n},e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(t){var n=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=t,n.isComplete&&(n.data=n.build(),n.right=void 0),n},e.prototype.build=function(){var t=[],e=this;do{t.push(e.right.data),e=e.left}while(e.left);return t.reverse(),t},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(t){for(var e=this.states,n=this.wants,r=this.completed,i=0;i<e.length;i++){var u=e[i];if(u.isComplete){if(u.finish(),u.data!==o.fail){for(var a=u.wantedBy,s=a.length;s--;){var l=a[s];this.complete(l,u)}if(u.reference===this.index){var c=u.rule.name;(this.completed[c]=this.completed[c]||[]).push(u)}}}else{if("string"!=typeof(c=u.rule.symbols[u.dot])){this.scannable.push(u);continue}if(n[c]){if(n[c].push(u),r.hasOwnProperty(c)){var f=r[c];for(s=0;s<f.length;s++){var h=f[s];this.complete(u,h)}}}else n[c]=[u],this.predict(c)}}},n.prototype.predict=function(t){for(var n=this.grammar.byName[t]||[],r=0;r<n.length;r++){var i=n[r],o=this.wants[t],u=new e(i,0,this.index,o);this.states.push(u)}},n.prototype.complete=function(t,e){var n=t.nextState(e);this.states.push(n)},r.fromCompiled=function(e,n){var i=e.Lexer;e.ParserStart&&(n=e.ParserStart,e=e.ParserRules);var o=new r(e=e.map((function(e){return new t(e.name,e.symbols,e.postprocess)})),n);return o.lexer=i,o},i.prototype.reset=function(t,e){this.buffer=t,this.index=0,this.line=e?e.line:1,this.lastLineBreak=e?-e.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var t=this.buffer[this.index++];return"\n"===t&&(this.line+=1,this.lastLineBreak=this.index),{value:t}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(t,e){var n=this.buffer;if("string"==typeof n){var r=n.indexOf("\n",this.index);-1===r&&(r=n.length);var i=n.substring(this.lastLineBreak,r),o=this.index-this.lastLineBreak;return e+=" at line "+this.line+" col "+o+":\n\n",e+="  "+i+"\n",e+="  "+Array(o).join(" ")+"^"}return e+" at index "+(this.index-1)},o.fail={},o.prototype.feed=function(t){var e,r=this.lexer;for(r.reset(t,this.lexerState);e=r.next();){var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var u=this.current+1,a=new n(this.grammar,u);this.table.push(a);for(var s=void 0!==e.text?e.text:e.value,l=r.constructor===i?e.value:e,c=o.scannable,f=c.length;f--;){var h=c[f],p=h.rule.symbols[h.dot];if(p.test?p.test(l):p.type?p.type===e.type:p.literal===s){var y=h.nextState({data:l,token:e,isToken:!0,reference:u-1});a.states.push(y)}}if(a.process(),0===a.states.length){var d=new Error(this.reportError(e));throw d.offset=this.current,d.token=e,d}this.options.keepHistory&&(o.lexerState=r.save()),this.current++}return o&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.reportError=function(t){var e=[],n=(t.type?t.type+" token: ":"")+JSON.stringify(void 0!==t.value?t.value:t);e.push(this.lexer.formatError(t,"Syntax error")),e.push("Unexpected "+n+". Instead, I was expecting to see one of the following:\n");var r=this.table.length-2;return this.table[r].states.filter((function(t){var e=t.rule.symbols[t.dot];return e&&"string"!=typeof e})).map((function(t){return this.buildFirstStateStack(t,[])||[t]}),this).forEach((function(t){var n=t[0],r=n.rule.symbols[n.dot],i=this.getSymbolDisplay(r);e.push("A "+i+" based on:"),this.displayStateStack(t,e)}),this),e.push(""),e.join("\n")},o.prototype.displayStateStack=function(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],u=o.rule.toString(o.dot);u===n?r++:(r>0&&e.push("    ⬆ ︎"+r+" more lines identical to this"),r=0,e.push("    "+u)),n=u}},o.prototype.getSymbolDisplay=function(t){var e=typeof t;if("string"===e)return t;if("object"===e&&t.literal)return JSON.stringify(t.literal);if("object"===e&&t instanceof RegExp)return"character matching "+t;if("object"===e&&t.type)return t.type+" token";throw new Error("Unknown symbol type: "+t)},o.prototype.buildFirstStateStack=function(t,e){if(-1!==e.indexOf(t))return null;if(0===t.wantedBy.length)return[t];var n=t.wantedBy[0],r=[t].concat(e),i=this.buildFirstStateStack(n,r);return null===i?null:[t].concat(i)},o.prototype.save=function(){var t=this.table[this.current];return t.lexerState=this.lexerState,t},o.prototype.restore=function(t){var e=t.index;this.current=e,this.table[e]=t,this.table.splice(e+1),this.lexerState=t.lexerState,this.results=this.finish()},o.prototype.rewind=function(t){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[t])},o.prototype.finish=function(){var t=[],e=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===e&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&t.push(n)})),t.map((function(t){return t.data}))},{Parser:o,Grammar:r,Rule:t}}))})),r=e((function(e){!function(t,n){e.exports?e.exports=n():t.moo=n()}(t,(function(){var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n="boolean"==typeof(new RegExp).sticky;function r(t){return t&&"[object RegExp]"===e.call(t)}function i(t){return t&&"object"==typeof t&&!r(t)&&!Array.isArray(t)}function o(t){return"("+t+")"}function u(t){return t.length?"(?:"+t.map((function(t){return"(?:"+t+")"})).join("|")+")":"(?!)"}function a(t){if("string"==typeof t)return"(?:"+(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")");if(r(t)){if(t.ignoreCase)throw new Error("RegExp /i flag not allowed");if(t.global)throw new Error("RegExp /g flag is implied");if(t.sticky)throw new Error("RegExp /y flag is implied");if(t.multiline)throw new Error("RegExp /m flag is implied");return t.source}throw new Error("Not a pattern: "+t)}function s(e,n){if(i(n)||(n={match:n}),n.include)throw new Error("Matching rules cannot also include states");var o={defaultType:e,lineBreaks:!!n.error||!!n.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var u in n)t.call(n,u)&&(o[u]=n[u]);if("string"==typeof o.type&&e!==o.type)throw new Error("Type transform cannot be a string (type '"+o.type+"' for token '"+e+"')");var a=o.match;return o.match=Array.isArray(a)?a:a?[a]:[],o.match.sort((function(t,e){return r(t)&&r(e)?0:r(e)?-1:r(t)?1:e.length-t.length})),o}function l(t){return Array.isArray(t)?function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r.include)for(var i=[].concat(r.include),o=0;o<i.length;o++)e.push({include:i[o]});else{if(!r.type)throw new Error("Rule has no type: "+JSON.stringify(r));e.push(s(r.type,r))}}return e}(t):function(t){for(var e=Object.getOwnPropertyNames(t),n=[],r=0;r<e.length;r++){var o=e[r],u=t[o],a=[].concat(u);if("include"!==o){var l=[];a.forEach((function(t){i(t)?(l.length&&n.push(s(o,l)),n.push(s(o,t)),l=[]):l.push(t)})),l.length&&n.push(s(o,l))}else for(var c=0;c<a.length;c++)n.push({include:a[c]})}return n}(t)}var c=s("error",{lineBreaks:!0,shouldThrow:!0});function f(t,e){for(var i=null,s=Object.create(null),l=!0,f=null,h=[],p=[],y=0;y<t.length;y++)t[y].fallback&&(l=!1);for(y=0;y<t.length;y++){var d=t[y];if(d.include)throw new Error("Inheritance is not allowed in stateless lexers");if(d.error||d.fallback){if(i)throw!d.fallback==!i.fallback?new Error("Multiple "+(d.fallback?"fallback":"error")+" rules not allowed (for token '"+d.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+d.defaultType+"')");i=d}var g=d.match.slice();if(l)for(;g.length&&"string"==typeof g[0]&&1===g[0].length;){s[g.shift().charCodeAt(0)]=d}if(d.pop||d.push||d.next){if(!e)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+d.defaultType+"')");if(d.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+d.defaultType+"')")}if(0!==g.length){l=!1,h.push(d);for(var m=0;m<g.length;m++){var v=g[m];if(r(v))if(null===f)f=v.unicode;else if(f!==v.unicode&&!1===d.fallback)throw new Error("If one rule is /u then all must be")}var w=u(g.map(a)),b=new RegExp(w);if(b.test(""))throw new Error("RegExp matches empty string: "+b);if(new RegExp("|"+w).exec("").length-1>0)throw new Error("RegExp has capture groups: "+b+"\nUse (?: … ) instead");if(!d.lineBreaks&&b.test("\n"))throw new Error("Rule should declare lineBreaks: "+b);p.push(o(w))}}var _=i&&i.fallback,x=n&&!_?"ym":"gm",E=n||_?"":"|";return!0===f&&(x+="u"),{regexp:new RegExp(u(p)+E,x),groups:h,fast:s,error:i||c}}function h(t,e,n){var r=t&&(t.push||t.next);if(r&&!n[r])throw new Error("Missing state '"+r+"' (in token '"+t.defaultType+"' of state '"+e+"')");if(t&&t.pop&&1!=+t.pop)throw new Error("pop must be 1 (in token '"+t.defaultType+"' of state '"+e+"')")}var p=function(t,e){this.startState=e,this.states=t,this.buffer="",this.stack=[],this.reset()};p.prototype.reset=function(t,e){return this.buffer=t||"",this.index=0,this.line=e?e.line:1,this.col=e?e.col:1,this.queuedToken=e?e.queuedToken:null,this.queuedThrow=e?e.queuedThrow:null,this.setState(e?e.state:this.startState),this.stack=e&&e.stack?e.stack.slice():[],this},p.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},p.prototype.setState=function(t){if(t&&this.state!==t){this.state=t;var e=this.states[t];this.groups=e.groups,this.error=e.error,this.re=e.regexp,this.fast=e.fast}},p.prototype.popState=function(){this.setState(this.stack.pop())},p.prototype.pushState=function(t){this.stack.push(this.state),this.setState(t)};var y=n?function(t,e){return t.exec(e)}:function(t,e){var n=t.exec(e);return 0===n[0].length?null:n};function d(){return this.value}if(p.prototype._getGroup=function(t){for(var e=this.groups.length,n=0;n<e;n++)if(void 0!==t[n+1])return this.groups[n];throw new Error("Cannot find token type for matched text")},p.prototype.next=function(){var t=this.index;if(this.queuedGroup){var e=this._token(this.queuedGroup,this.queuedText,t);return this.queuedGroup=null,this.queuedText="",e}var n=this.buffer;if(t!==n.length){if(u=this.fast[n.charCodeAt(t)])return this._token(u,n.charAt(t),t);var r=this.re;r.lastIndex=t;var i=y(r,n),o=this.error;if(null==i)return this._token(o,n.slice(t,n.length),t);var u=this._getGroup(i),a=i[0];return o.fallback&&i.index!==t?(this.queuedGroup=u,this.queuedText=a,this._token(o,n.slice(t,i.index),t)):this._token(u,a,t)}},p.prototype._token=function(t,e,n){var r=0;if(t.lineBreaks){var i=/\n/g,o=1;if("\n"===e)r=1;else for(;i.exec(e);)r++,o=i.lastIndex}var u={type:"function"==typeof t.type&&t.type(e)||t.defaultType,value:"function"==typeof t.value?t.value(e):e,text:e,toString:d,offset:n,lineBreaks:r,line:this.line,col:this.col},a=e.length;if(this.index+=a,this.line+=r,0!==r?this.col=a-o+1:this.col+=a,t.shouldThrow)throw new Error(this.formatError(u,"invalid syntax"));return t.pop?this.popState():t.push?this.pushState(t.push):t.next&&this.setState(t.next),u},"undefined"!=typeof Symbol&&Symbol.iterator){var g=function(t){this.lexer=t};g.prototype.next=function(){var t=this.lexer.next();return{value:t,done:!t}},g.prototype[Symbol.iterator]=function(){return this},p.prototype[Symbol.iterator]=function(){return new g(this)}}return p.prototype.formatError=function(t,e){if(null==t){var n=this.buffer.slice(this.index);t={text:n,offset:this.index,lineBreaks:-1===n.indexOf("\n")?0:1,line:this.line,col:this.col}}var r=Math.max(0,t.offset-t.col+1),i=t.lineBreaks?t.text.indexOf("\n"):t.text.length,o=this.buffer.substring(r,t.offset+i);return e+=" at line "+t.line+" col "+t.col+":\n\n",e+="  "+o+"\n",e+="  "+Array(t.col).join(" ")+"^"},p.prototype.clone=function(){return new p(this.states,this.state)},p.prototype.has=function(t){return!0},{compile:function(t){var e=f(l(t));return new p({start:e},"start")},states:function(t,e){var n=t.$all?l(t.$all):[];delete t.$all;var r=Object.getOwnPropertyNames(t);e||(e=r[0]);for(var i=Object.create(null),o=0;o<r.length;o++){i[w=r[o]]=l(t[w]).concat(n)}for(o=0;o<r.length;o++)for(var u=i[w=r[o]],a=Object.create(null),s=0;s<u.length;s++){var c=u[s];if(c.include){var y=[s,1];if(c.include!==w&&!a[c.include]){a[c.include]=!0;var d=i[c.include];if(!d)throw new Error("Cannot include nonexistent state '"+c.include+"' (in state '"+w+"')");for(var g=0;g<d.length;g++){var m=d[g];-1===u.indexOf(m)&&y.push(m)}}u.splice.apply(u,y),s--}}var v=Object.create(null);for(o=0;o<r.length;o++){var w;v[w=r[o]]=f(i[w],!0)}for(o=0;o<r.length;o++){var b=r[o],_=v[b],x=_.groups;for(s=0;s<x.length;s++)h(x[s],b,v);var E=Object.getOwnPropertyNames(_.fast);for(s=0;s<E.length;s++)h(_.fast[E[s]],b,v)}return new p(v,e)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(t){for(var e=Object.create(null),n=Object.create(null),r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=r[i],u=t[o];(Array.isArray(u)?u:[u]).forEach((function(t){if((n[t.length]=n[t.length]||[]).push(t),"string"!=typeof t)throw new Error("keyword must be string (in keyword '"+o+"')");e[t]=o}))}function a(t){return JSON.stringify(t)}var s="";for(var l in s+="switch (value.length) {\n",n){var c=n[l];s+="case "+l+":\n",s+="switch (value) {\n",c.forEach((function(t){var n=e[t];s+="case "+a(t)+": return "+a(n)+"\n"})),s+="}\n"}return s+="}\n",Function("value",s)}}}))})),i=e((function(t,e){function n(t){return t}Object.defineProperty(e,"__esModule",{value:!0}),e.pipe=e.untupled=e.tupled=e.absurd=e.decrement=e.increment=e.tuple=e.flow=e.flip=e.constVoid=e.constUndefined=e.constNull=e.constFalse=e.constTrue=e.constant=e.not=e.unsafeCoerce=e.identity=void 0,e.identity=n,e.unsafeCoerce=n,e.not=function(t){return function(e){return!t(e)}},e.constant=function(t){return function(){return t}},e.constTrue=function(){return!0},e.constFalse=function(){return!1},e.constNull=function(){return null},e.constUndefined=function(){},e.constVoid=function(){},e.flip=function(t){return function(e,n){return t(n,e)}},e.flow=function(t,e,n,r,i,o,u,a,s){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return i(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return u(o(i(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return a(u(o(i(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return s(a(u(o(i(r(n(e(t.apply(this,arguments)))))))))}}},e.tuple=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t},e.increment=function(t){return t+1},e.decrement=function(t){return t-1},e.absurd=function(t){throw new Error("Called `absurd` function which should be uncallable")},e.tupled=function(t){return function(e){return t.apply(void 0,e)}},e.untupled=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t(e)}},e.pipe=function(t,e,n,r,i,o,u,a,s,l){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return o(i(r(n(e(t)))));case 7:return u(o(i(r(n(e(t))))));case 8:return a(u(o(i(r(n(e(t)))))));case 9:return s(a(u(o(i(r(n(e(t))))))));case 10:return l(s(a(u(o(i(r(n(e(t)))))))))}}})),o=(e((function(t,e){function n(t){return"Some"===t._tag}function r(t){return"None"===t._tag}function o(t){return{_tag:"Some",value:t}}function u(t){return null==t?e.none:o(t)}function a(t){return"Right"===t._tag?e.none:o(t.left)}function s(t){return"Left"===t._tag?e.none:o(t.right)}Object.defineProperty(e,"__esModule",{value:!0}),e.getRefinement=e.exists=e.elem=e.option=e.getMonoid=e.getLastMonoid=e.getFirstMonoid=e.getApplyMonoid=e.getApplySemigroup=e.getOrd=e.getEq=e.getShow=e.applicativeOption=e.wilt=e.wither=e.sequence=e.traverse=e.partitionMap=e.partition=e.filterMap=e.filter=e.separate=e.compact=e.reduceRight=e.reduce=e.foldMap=e.extend=e.duplicate=e.alt=e.flatten=e.chainFirst=e.chain=e.apSecond=e.apFirst=e.ap=e.map=e.mapNullable=e.getOrElse=e.getOrElseW=e.toUndefined=e.toNullable=e.fold=e.fromEither=e.getRight=e.getLeft=e.tryCatch=e.fromPredicate=e.fromNullable=e.some=e.none=e.isNone=e.isSome=e.URI=void 0,e.URI="Option",e.isSome=n,e.isNone=r,e.none={_tag:"None"},e.some=o,e.fromNullable=u,e.fromPredicate=function(t){return function(n){return t(n)?o(n):e.none}},e.tryCatch=function(t){try{return o(t())}catch(t){return e.none}},e.getLeft=a,e.getRight=s,e.fromEither=function(t){return"Left"===t._tag?e.none:o(t.right)},e.fold=function(t,e){return function(n){return r(n)?t():e(n.value)}},e.toNullable=function(t){return r(t)?null:t.value},e.toUndefined=function(t){return r(t)?void 0:t.value},e.getOrElseW=function(t){return function(e){return r(e)?t():e.value}},e.getOrElse=e.getOrElseW,e.mapNullable=function(t){return function(n){return r(n)?e.none:u(t(n.value))}};var l={left:e.none,right:e.none},c=function(t,n){return r(t)?e.none:o(n(t.value))},f=function(t,n){return r(t)||r(n)?e.none:o(t.value(n.value))},h=o,p=function(t,n){return r(t)?e.none:n(t.value)},y=function(t,e,n){return r(t)?e:n(e,t.value)},d=function(t){return function(e,n){return r(e)?t.empty:n(e.value)}},g=function(t,e,n){return r(t)?e:n(t.value,e)},m=function(t){return function(n,i){return r(n)?t.of(e.none):t.map(i(n.value),o)}},v=function(t,e){return r(t)?e():t},w=function(t,n){return r(t)?e.none:n(t.value)?t:e.none},b=function(t,n){return r(t)?e.none:n(t.value)},_=function(t,n){return r(t)?e.none:o(n(t))},x=function(t,e){return{left:w(t,(function(t){return!e(t)})),right:w(t,e)}},E=function(t,n){return e.separate(c(t,n))},k=function(t){return function(n,i){return r(n)?t.of(e.none):i(n.value)}},S=function(t){return function(n,i){var o=c(n,(function(e){return t.map(i(e),(function(t){return{left:a(t),right:s(t)}}))}));return r(o)?t.of({left:e.none,right:e.none}):o.value}};function A(t){return{equals:function(e,n){return e===n||(r(e)?r(n):!r(n)&&t.equals(e.value,n.value))}}}function M(t){return{concat:function(r,i){return n(r)&&n(i)?o(t.concat(r.value,i.value)):e.none}}}e.map=function(t){return function(e){return c(e,t)}},e.ap=function(t){return function(e){return f(e,t)}},e.apFirst=function(t){return function(e){return f(c(e,(function(t){return function(){return t}})),t)}},e.apSecond=function(t){return function(e){return f(c(e,(function(){return function(t){return t}})),t)}},e.chain=function(t){return function(e){return p(e,t)}},e.chainFirst=function(t){return function(e){return p(e,(function(e){return c(t(e),(function(){return e}))}))}},e.flatten=function(t){return p(t,i.identity)},e.alt=function(t){return function(e){return v(e,t)}},e.duplicate=function(t){return _(t,i.identity)},e.extend=function(t){return function(e){return _(e,t)}},e.foldMap=function(t){var e=d(t);return function(t){return function(n){return e(n,t)}}},e.reduce=function(t,e){return function(n){return y(n,t,e)}},e.reduceRight=function(t,e){return function(n){return g(n,t,e)}},e.compact=function(t){return p(t,i.identity)},e.separate=function(t){var e=c(t,(function(t){return{left:a(t),right:s(t)}}));return r(e)?l:e.value},e.filter=function(t){return function(e){return w(e,t)}},e.filterMap=function(t){return function(e){return b(e,t)}},e.partition=function(t){return function(e){return x(e,t)}},e.partitionMap=function(t){return function(e){return E(e,t)}},e.traverse=function(t){var e=m(t);return function(t){return function(n){return e(n,t)}}},e.sequence=function(t){return function(n){return r(n)?t.of(e.none):t.map(n.value,o)}},e.wither=function(t){var e=k(t);return function(t){return function(n){return e(n,t)}}},e.wilt=function(t){var e=S(t);return function(t){return function(n){return e(n,t)}}},e.applicativeOption={URI:e.URI,map:c,of:h,ap:f},e.getShow=function(t){return{show:function(e){return r(e)?"none":"some("+t.show(e.value)+")"}}},e.getEq=A,e.getOrd=function(t){return{equals:A(t).equals,compare:function(e,r){return e===r?0:n(e)?n(r)?t.compare(e.value,r.value):1:-1}}},e.getApplySemigroup=M,e.getApplyMonoid=function(t){return{concat:M(t).concat,empty:o(t.empty)}},e.getFirstMonoid=function(){return{concat:function(t,e){return r(t)?e:t},empty:e.none}},e.getLastMonoid=function(){return{concat:function(t,e){return r(e)?t:e},empty:e.none}},e.getMonoid=function(t){return{concat:function(e,n){return r(e)?n:r(n)?e:o(t.concat(e.value,n.value))},empty:e.none}},e.option={URI:e.URI,map:c,of:h,ap:f,chain:p,reduce:y,foldMap:d,reduceRight:g,traverse:m,sequence:e.sequence,zero:function(){return e.none},alt:v,extend:_,compact:e.compact,separate:e.separate,filter:w,filterMap:b,partition:x,partitionMap:E,wither:k,wilt:S,throwError:function(){return e.none}},e.elem=function(t){return function(e,n){return!r(n)&&t.equals(e,n.value)}},e.exists=function(t){return function(e){return!r(e)&&t(e.value)}},e.getRefinement=function(t){return function(e){return n(t(e))}}})),function(t){var e=y(t),n=e[0],r=e[1];return 3*(n+r)/4-r}),u=function(t){var e,n,r=y(t),i=r[0],o=r[1],u=new c(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),a=0,s=o>0?i-4:i;for(n=0;n<s;n+=4)e=l[t.charCodeAt(n)]<<18|l[t.charCodeAt(n+1)]<<12|l[t.charCodeAt(n+2)]<<6|l[t.charCodeAt(n+3)],u[a++]=e>>16&255,u[a++]=e>>8&255,u[a++]=255&e;2===o&&(e=l[t.charCodeAt(n)]<<2|l[t.charCodeAt(n+1)]>>4,u[a++]=255&e);1===o&&(e=l[t.charCodeAt(n)]<<10|l[t.charCodeAt(n+1)]<<4|l[t.charCodeAt(n+2)]>>2,u[a++]=e>>8&255,u[a++]=255&e);return u},a=function(t){for(var e,n=t.length,r=n%3,i=[],o=16383,u=0,a=n-r;u<a;u+=o)i.push(d(t,u,u+o>a?a:u+o));1===r?(e=t[n-1],i.push(s[e>>2]+s[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return i.join("")},s=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=f.length;h<p;++h)s[h]=f[h],l[f.charCodeAt(h)]=h;function y(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function d(t,e,n){for(var r,i,o=[],u=e;u<n;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),o.push(s[(i=r)>>18&63]+s[i>>12&63]+s[i>>6&63]+s[63&i]);return o.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63;var g={byteLength:o,toByteArray:u,fromByteArray:a},m=function(t,e,n,r,i){var o,u,a=8*i-r-1,s=(1<<a)-1,l=s>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+f],f+=h,c-=8);for(u=o&(1<<-c)-1,o>>=-c,c+=r;c>0;u=256*u+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===s)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,r),o-=l}return(p?-1:1)*u*Math.pow(2,o-r)},v=function(t,e,n,r,i,o){var u,a,s,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,y=r?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,u=c):(u=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-u))<1&&(u--,s*=2),(e+=u+f>=1?h/s:h*Math.pow(2,1-f))*s>=2&&(u++,s/=2),u+f>=c?(a=0,u=c):u+f>=1?(a=(e*s-1)*Math.pow(2,i),u+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),u=0));i>=8;t[n+p]=255&a,p+=y,a/=256,i-=8);for(u=u<<i|a,l+=i;l>0;t[n+p]=255&u,p+=y,u/=256,l-=8);t[n+p-y]|=128*d},w=e((function(t,e){e.Buffer=i,e.SlowBuffer=function(t){+t!=t&&(t=0);return i.alloc(+t)},e.INSPECT_MAX_BYTES=50;var n=2147483647;function r(t){if(t>n)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=i.prototype,e}function i(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}return o(t,e,n)}function o(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!i.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|c(t,e),o=r(n),u=o.write(t,e);u!==n&&(o=o.slice(0,u));return o}(t,e);if(ArrayBuffer.isView(t))return s(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(j(t,ArrayBuffer)||t&&j(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n);return r.__proto__=i.prototype,r}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=t.valueOf&&t.valueOf();if(null!=o&&o!==t)return i.from(o,e,n);var u=function(t){if(i.isBuffer(t)){var e=0|l(t.length),n=r(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||V(t.length)?r(0):s(t);if("Buffer"===t.type&&Array.isArray(t.data))return s(t.data)}(t);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return i.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function a(t){return u(t),r(t<0?0:0|l(t))}function s(t){for(var e=t.length<0?0:0|l(t.length),n=r(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function l(t){if(t>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|t}function c(t,e){if(i.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||j(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return I(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(o)return r?-1:I(t).length;e=(""+e).toLowerCase(),o=!0}}function f(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return N(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function h(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function p(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),V(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=i.from(e,r)),i.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,u=1,a=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u=2,a/=2,s/=2,n/=2}function l(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(i){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*u}else-1!==c&&(o-=o-c),c=-1}else for(n+s>a&&(n=a-s),o=n;o>=0;o--){for(var f=!0,h=0;h<s;h++)if(l(t,o+h)!==l(e,h)){f=!1;break}if(f)return o}return-1}function d(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var u=0;u<r;++u){var a=parseInt(e.substr(2*u,2),16);if(V(a))return u;t[n+u]=a}return u}function w(t,e,n,r){return q(I(e,t.length-n),t,n,r)}function b(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return b(t,e,n,r)}function x(t,e,n,r){return q(U(e),t,n,r)}function E(t,e,n,r){return q(function(t,e){for(var n,r,i,o=[],u=0;u<t.length&&!((e-=2)<0);++u)r=(n=t.charCodeAt(u))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?g.fromByteArray(t):g.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,u,a,s,l=t[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&l)<<6|63&o)>127&&(c=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&l)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:o=t[i+1],u=t[i+2],a=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&a)&&(s=(15&l)<<18|(63&o)<<12|(63&u)<<6|63&a)>65535&&s<1114112&&(c=s)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=A));return n}(r)}e.kMaxLength=n,i.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(t,e,n){return o(t,e,n)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?r(t):void 0!==e?"string"==typeof n?r(t).fill(e,n):r(t).fill(e):r(t)}(t,e,n)},i.allocUnsafe=function(t){return a(t)},i.allocUnsafeSlow=function(t){return a(t)},i.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==i.prototype},i.compare=function(t,e){if(j(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),j(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,o=0,u=Math.min(n,r);o<u;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=i.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var u=t[n];if(j(u,Uint8Array)&&(u=i.from(u)),!i.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,o),o+=u.length}return r},i.byteLength=c,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},i.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):f.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i.prototype.compare=function(t,e,n,r,o){if(j(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var u=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(u,a),l=this.slice(r,o),c=t.slice(e,n),f=0;f<s;++f)if(l[f]!==c[f]){u=l[f],a=c[f];break}return u<a?-1:a<u?1:0},i.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},i.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},i.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return d(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function N(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=z(t[o]);return i}function B(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function $(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,o,u){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<u)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,i){return e=+e,n>>>=0,i||L(t,0,n,4),v(t,e,n,r,23,4),n+4}function O(t,e,n,r,i){return e=+e,n>>>=0,i||L(t,0,n,8),v(t,e,n,r,52,8),n+8}i.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=i.prototype,r},i.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||$(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},i.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||$(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},i.prototype.readUInt8=function(t,e){return t>>>=0,e||$(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return t>>>=0,e||$(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return t>>>=0,e||$(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return t>>>=0,e||$(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return t>>>=0,e||$(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||$(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||$(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},i.prototype.readInt8=function(t,e){return t>>>=0,e||$(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){t>>>=0,e||$(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){t>>>=0,e||$(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return t>>>=0,e||$(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return t>>>=0,e||$(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return t>>>=0,e||$(t,4,this.length),m(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return t>>>=0,e||$(t,4,this.length),m(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return t>>>=0,e||$(t,8,this.length),m(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return t>>>=0,e||$(t,8,this.length),m(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=0,u=1,a=0;for(this[e]=255&t;++o<n&&(u*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=n-1,u=1,a=0;for(this[e+o]=255&t;--o>=0&&(u*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return O(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return O(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(!i.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var u=o-1;u>=0;--u)t[u+e]=this[u+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return o},i.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var o=t.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(t=o)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var u;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(u=e;u<n;++u)this[u]=t;else{var a=i.isBuffer(t)?t:i.from(t,r),s=a.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(u=0;u<n-e;++u)this[u+e]=a[u%s]}return this};var P=/[^+/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function I(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],u=0;u<r;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(u+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return g.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function j(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function V(t){return t!=t}}));e((function(t,e){var n=w.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=w:(r(w,e),e.Buffer=i),r(n,i),i.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},i.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return w.SlowBuffer(t)}})).Buffer;var b=function(t){return!!t.type&&"node"===t.type},_=function(t){return!!t.type&&!!t.value},x=function(t){return!!t.type&&!!t.value&&!!t.tag&&"tagged"===t.type};function E(){return(E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function k(t){return Array.isArray(t)?t:t instanceof Function?k(t()):void 0===t?[]:[t]}var S=function(t,e,n){return E(E(E({type:"node"},t&&{id:t}),e&&{labels:e}),n&&{record:n})},A=function(t,e){return{type:"tagged",value:e,tag:t}},M=function(t,e,n,r){return void 0===n&&(n=[]),E(E(E({type:"gram"},e&&{id:e}),{},{labels:n},r&&{record:r}),{},{children:k(t)})},N=function(t,e,n,r){return E(E(E({type:"path"},e&&{id:e}),{},{labels:n},r&&{record:r}),{},{children:t?[t]:[]})},T=S,B=function(t,e,n,r,i){return void 0===e&&(e="right"),E(E(E(E({type:"edge"},n&&{id:n}),r&&{labels:r}),i&&{record:i}),{},{direction:e,children:t})},$=function(t){return t.reduce((function(t,e){return t[e.name]=e.value,t}),{})},C=function(t,e){return{type:"property",name:t,value:e}},L=function(t){return{type:"boolean",value:t?"true":"false"}},R=function(t){return{type:"string",value:t}},O=A,P=function(t){return{type:"integer",value:String(t)}},z=function(t){return{type:"decimal",value:String(t)}},I=function(t){return{type:"hexadecimal",value:t}},U=function(t){return{type:"octal",value:t}},q=function(t,e){return{type:"unit",value:String(e),unit:t}},j=function(t,e){return void 0===e&&(e=1),t.flat(e)},V={boolean:/true|false|TRUE|FALSE\b/,hexadecimal:/-?0x(?:[0-9a-fA-F]+)\b/,octal:/-?0(?:[0-7]+)\b/,unit:/-?(?:[0-9]|[1-9][0-9]+)(?:\.[0-9]+)?[a-zA-Z]+\b/,decimal:/-?(?:[0-9]|[1-9][0-9]+)\.[0-9]+(?:[eE][-+]?[0-9]+)?\b/,integer:/-?(?:[0-9]|[1-9][0-9]+)(?:[eE][-+]?[0-9]+)?\b/,taggedString:/[a-zA-Z][0-9a-zA-Z_@]*`(?:\\[`bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^`\\])*`/,doubleQuotedString:/"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*"/,singleQuotedString:/'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*'/,tickedString:/`(?:\\[`bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^`\\])*`/,identifier:/[a-zA-Z_][0-9a-zA-Z_]*/},F=V;function X(t){return t[0]}var D=r.compile({whitespace:{match:/\s+/,lineBreaks:!0},lineComment:{match:/\/\/.*?$/},hexadecimal:V.hexadecimal,octal:V.octal,unit:V.unit,decimal:V.decimal,integer:V.integer,taggedString:{match:V.taggedString},doubleQuotedString:{match:V.doubleQuotedString,value:function(t){return t.slice(1,-1)}},singleQuotedString:{match:V.singleQuotedString,value:function(t){return t.slice(1,-1)}},tickedString:{match:V.tickedString,value:function(t){return t.slice(1,-1)}},boolean:["true","TRUE","True","false","FALSE","False"],identifier:V.identifier,"--\x3e":"--\x3e","--":"--","<--":"<--","-[]->":"-[]->","-[]-":"-[]-","<-[]-":"<-[]-","<-[":"<-[","]->":"]->","-[":"-[","]-":"]-","{":"{","}":"}","[":"[","]":"]","(":"(",")":")",",":",",":":":","`":"`","'":"'"}),Y=function(){return null};var H={Lexer:D,ParserRules:[{name:"Gram$ebnf$1",symbols:["Block"]},{name:"Gram$ebnf$1",symbols:["Gram$ebnf$1","Block"],postprocess:function(t){return t[0].concat([t[1]])}},{name:"Gram",symbols:["Gram$ebnf$1"],postprocess:function(t){return M(j(t))}},{name:"Block",symbols:["PathPattern","_"],postprocess:function(t){return t[0]}},{name:"Block",symbols:["Comment"],postprocess:Y},{name:"PathPattern$ebnf$1",symbols:["EdgePattern"],postprocess:X},{name:"PathPattern$ebnf$1",symbols:[],postprocess:function(){return null}},{name:"PathPattern",symbols:[{literal:"["},"_","ContentSpecification","_","PathPattern$ebnf$1",{literal:"]"}],postprocess:function(t){var e=t[2],n=t[4];return N(n||[],e.id,e.labels,e.record)}},{name:"PathPattern",symbols:["EdgePattern"],postprocess:function(t){var e=t[0];return N(e)}},{name:"NodePattern",symbols:[{literal:"("},"_","ContentSpecification",{literal:")"}],postprocess:function(t){var e=t[2];return T(e.id,e.labels,e.record)}},{name:"EdgePattern",symbols:["NodePattern","EdgeSpecification","EdgePattern"],postprocess:function(t){var e=t[0],n=t[1],r=t[2];return B([e,r],n.direction,n.id,n.labels,n.record)}},{name:"EdgePattern",symbols:["NodePattern"],postprocess:X},{name:"EdgeSpecification",symbols:[{literal:"-["},"_","ContentSpecification",{literal:"]->"}],postprocess:function(t){return E({direction:"right"},t[2])}},{name:"EdgeSpecification",symbols:[{literal:"-["},"_","ContentSpecification",{literal:"]-"}],postprocess:function(t){return E({direction:"none"},t[2])}},{name:"EdgeSpecification",symbols:[{literal:"<-["},"_","ContentSpecification",{literal:"]-"}],postprocess:function(t){return E({direction:"left"},t[2])}},{name:"EdgeSpecification",symbols:[{literal:"-[]->"}],postprocess:function(){return{direction:"right"}}},{name:"EdgeSpecification",symbols:[{literal:"-[]-"}],postprocess:function(){return{direction:"none"}}},{name:"EdgeSpecification",symbols:[{literal:"<-[]-"}],postprocess:function(){return{direction:"left"}}},{name:"EdgeSpecification",symbols:[{literal:"--\x3e"}],postprocess:function(){return{direction:"right"}}},{name:"EdgeSpecification",symbols:[{literal:"--"}],postprocess:function(){return{direction:"none"}}},{name:"EdgeSpecification",symbols:[{literal:"<--"}],postprocess:function(){return{direction:"left"}}},{name:"EdgeSpecification",symbols:[{literal:","}],postprocess:function(){return{direction:"pair"}}},{name:"ContentSpecification$ebnf$1",symbols:["SymbolicName"],postprocess:X},{name:"ContentSpecification$ebnf$1",symbols:[],postprocess:function(){return null}},{name:"ContentSpecification$ebnf$2",symbols:["LabelList"],postprocess:X},{name:"ContentSpecification$ebnf$2",symbols:[],postprocess:function(){return null}},{name:"ContentSpecification$ebnf$3",symbols:["Record"],postprocess:X},{name:"ContentSpecification$ebnf$3",symbols:[],postprocess:function(){return null}},{name:"ContentSpecification",symbols:["ContentSpecification$ebnf$1","_","ContentSpecification$ebnf$2","_","ContentSpecification$ebnf$3"],postprocess:function(t){return{id:t[0],labels:t[2],record:t[4]}}},{name:"LabelList$ebnf$1",symbols:["Label"]},{name:"LabelList$ebnf$1",symbols:["LabelList$ebnf$1","Label"],postprocess:function(t){return t[0].concat([t[1]])}},{name:"LabelList",symbols:["LabelList$ebnf$1"],postprocess:function(t){return t[0]}},{name:"Label",symbols:[{literal:":"},"SymbolicName"],postprocess:function(t){return t[1]}},{name:"SymbolicName",symbols:[D.has("identifier")?{type:"identifier"}:identifier],postprocess:function(t){return t[0].text}},{name:"SymbolicName",symbols:[D.has("tickedString")?{type:"tickedString"}:tickedString],postprocess:function(t){return t[0].text.slice(1,-1)}},{name:"Record",symbols:[{literal:"{"},"_",{literal:"}"}],postprocess:Y},{name:"Record$ebnf$1",symbols:[]},{name:"Record$ebnf$1$subexpression$1",symbols:["_",{literal:","},"_","Property"]},{name:"Record$ebnf$1",symbols:["Record$ebnf$1","Record$ebnf$1$subexpression$1"],postprocess:function(t){return t[0].concat([t[1]])}},{name:"Record",symbols:[{literal:"{"},"_","Property","Record$ebnf$1",{literal:"}"}],postprocess:function(t){var e=t[2],n=t[3];return $([e].concat(n.map((function(t){return t[3]}))))}},{name:"Property",symbols:["Key","_",{literal:":"},"_","Value"],postprocess:function(t){var e=t[0],n=t[4];return C(e,n)}},{name:"Key",symbols:["SymbolicName"],postprocess:X},{name:"Value",symbols:["StringLiteral"],postprocess:X},{name:"Value",symbols:["NumericLiteral"],postprocess:X},{name:"Value",symbols:[D.has("boolean")?{type:"boolean"}:boolean],postprocess:function(t){return L(JSON.parse(t[0].value.toLowerCase()))}},{name:"Value$ebnf$1",symbols:[]},{name:"Value$ebnf$1$subexpression$1",symbols:["_",{literal:","},"_","Value"]},{name:"Value$ebnf$1",symbols:["Value$ebnf$1","Value$ebnf$1$subexpression$1"],postprocess:function(t){return t[0].concat([t[1]])}},{name:"Value",symbols:[{literal:"["},"_","Value","Value$ebnf$1",{literal:"]"}],postprocess:function(t){var e=t[2],n=t[3];return[e].concat(n.map((function(t){return t[3]})))}},{name:"StringLiteral",symbols:[D.has("singleQuotedString")?{type:"singleQuotedString"}:singleQuotedString],postprocess:function(t){return R(t[0].value)}},{name:"StringLiteral",symbols:[D.has("doubleQuotedString")?{type:"doubleQuotedString"}:doubleQuotedString],postprocess:function(t){return R(t[0].value)}},{name:"StringLiteral",symbols:[D.has("tickedString")?{type:"tickedString"}:tickedString],postprocess:function(t){return R(t[0].value)}},{name:"StringLiteral",symbols:[D.has("taggedString")?{type:"taggedString"}:taggedString],postprocess:function(t){var e=function(t){var e=t.match(/([^`]+)`(.+)`$/);if(null==e)throw Error("Malformed tagged string: "+t);return{tag:e[1],value:e[2]}}(t[0].value);return O(e.tag,e.value)}},{name:"NumericLiteral",symbols:[D.has("integer")?{type:"integer"}:integer],postprocess:function(t){return P(t[0].value)}},{name:"NumericLiteral",symbols:[D.has("decimal")?{type:"decimal"}:decimal],postprocess:function(t){return z(t[0].value)}},{name:"NumericLiteral",symbols:[D.has("hexadecimal")?{type:"hexadecimal"}:hexadecimal],postprocess:function(t){return I(t[0].value)}},{name:"NumericLiteral",symbols:[D.has("octal")?{type:"octal"}:octal],postprocess:function(t){return U(t[0].value)}},{name:"NumericLiteral",symbols:[D.has("unit")?{type:"unit"}:unit],postprocess:function(t){var e=function(t){var e=t.match(/(-?[0-9.]+)([a-zA-Z]+)/);if(null==e)throw Error("Malformed unit number: "+t);return{value:e[1],unit:e[2]}}(t[0].value);return q(e.unit,e.value)}},{name:"_",symbols:[]},{name:"_",symbols:[D.has("whitespace")?{type:"whitespace"}:whitespace],postprocess:Y},{name:"EOL$ebnf$1$subexpression$1",symbols:[D.has("lineComment")?{type:"lineComment"}:lineComment,/[\n]/]},{name:"EOL$ebnf$1",symbols:["EOL$ebnf$1$subexpression$1"],postprocess:X},{name:"EOL$ebnf$1",symbols:[],postprocess:function(){return null}},{name:"EOL",symbols:["_","EOL$ebnf$1"],postprocess:Y},{name:"Comment$ebnf$1",symbols:[/[\n]/],postprocess:X},{name:"Comment$ebnf$1",symbols:[],postprocess:function(){return null}},{name:"Comment",symbols:[D.has("lineComment")?{type:"lineComment"}:lineComment,"Comment$ebnf$1"],postprocess:Y}],ParserStart:"Gram"},G=function(t){return t.children[0]},Q=G,Z=function(t){var e=t.children[1];return b(e)?e:G(e)},J=require("shortid");J.characters("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_@");F.identifier.source;var W,K,tt=J.generate,et=require("unist-util-visit"),nt=function(t,e){return t.id=t.id||e(t),t.id},rt=function(t){var e=new Map;return et(t,"node",(function(t){var n=nt(t,tt),r=e.get(n)||S();e.set(n,function(t,e){return b(t)&&b(e)?S(e.id||t.id,[].concat(e.labels||[],t.labels||[]),Object.assign(t.record||{},e.record||{})):t}(r,t))})),Array.from(e.values())},it=function(t){var e=new Map;return et(t,"edge",(function(t){e.set(nt(t,tt),t)})),Array.from(e.values())},ot=function(t){return new n.Parser(n.Grammar.fromCompiled(H)).feed(t).results[0]},ut=function t(e){return Array.isArray(e)?e.map((function(e){return t(e)})):_(e)?function(t){if(x(t))switch(t.tag){case"date":return new Date(t.value);default:return t.value}else switch(t.type){case"boolean":return JSON.parse(t.value);case"integer":return Number.parseInt(t.value);case"decimal":return Number.parseFloat(t.value);default:return t.value}}(e):Object.entries(e).reduce((function(e,n){var r=n[0],i=n[1];return e[r]=t(i),e}),{})},at="_missing_id",st=function(t){return function(t,e,n){return{id:t||at,labels:e||[],record:n?ut(n):{}}}(t.id,t.labels,t.record)},lt=function(t){return"left"===t.direction?Z(t).id||at:Q(t).id||at},ct=function(t){return"left"===t.direction?Q(t).id||at:Z(t).id||at},ft=function(t){return{id:t.id||at,source:lt(t),target:ct(t)}};function ht(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}1===(W=ht).length&&(K=W,W=function(t,e){return ht(K(t),e)});var pt={value:function(){}};function yt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new dt(r)}function dt(t){this._=t}function gt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function mt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function vt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=pt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}dt.prototype=yt.prototype={constructor:dt,on:function(t,e){var n,r=this._,i=gt(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<u;)if(n=(t=i[o]).type)r[n]=vt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=vt(r[n],t.name,null);return this}for(;++o<u;)if((n=(t=i[o]).type)&&(n=mt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new dt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var wt="http://www.w3.org/1999/xhtml",bt={svg:"http://www.w3.org/2000/svg",xhtml:wt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _t(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),bt.hasOwnProperty(e)?{space:bt[e],local:t}:t}function xt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wt&&e.documentElement.namespaceURI===wt?e.createElement(t):e.createElementNS(n,t)}}function Et(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function kt(t){var e=_t(t);return(e.local?Et:xt)(e)}function St(){}function At(t){return null==t?St:function(){return this.querySelector(t)}}function Mt(){return[]}function Nt(t){return null==t?Mt:function(){return this.querySelectorAll(t)}}function Tt(t){return function(){return this.matches(t)}}function Bt(t){return new Array(t.length)}function $t(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$t.prototype={constructor:$t,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ct(t,e,n,r,i,o){for(var u,a=0,s=e.length,l=o.length;a<l;++a)(u=e[a])?(u.__data__=o[a],r[a]=u):n[a]=new $t(t,o[a]);for(;a<s;++a)(u=e[a])&&(i[a]=u)}function Lt(t,e,n,r,i,o,u){var a,s,l,c={},f=e.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(s=e[a])&&(p[a]=l="$"+u.call(s,s.__data__,a,e),l in c?i[a]=s:c[l]=s);for(a=0;a<h;++a)(s=c[l="$"+u.call(t,o[a],a,o)])?(r[a]=s,s.__data__=o[a],c[l]=null):n[a]=new $t(t,o[a]);for(a=0;a<f;++a)(s=e[a])&&c[p[a]]===s&&(i[a]=s)}function Rt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ot(t){return function(){this.removeAttribute(t)}}function Pt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zt(t,e){return function(){this.setAttribute(t,e)}}function It(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ut(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function qt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vt(t){return function(){this.style.removeProperty(t)}}function Ft(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Xt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Dt(t,e){return t.style.getPropertyValue(e)||jt(t).getComputedStyle(t,null).getPropertyValue(e)}function Yt(t){return function(){delete this[t]}}function Ht(t,e){return function(){this[t]=e}}function Gt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Qt(t){return t.trim().split(/^|\s+/)}function Zt(t){return t.classList||new Jt(t)}function Jt(t){this._node=t,this._names=Qt(t.getAttribute("class")||"")}function Wt(t,e){for(var n=Zt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Kt(t,e){for(var n=Zt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function te(t){return function(){Wt(this,t)}}function ee(t){return function(){Kt(this,t)}}function ne(t,e){return function(){(e.apply(this,arguments)?Wt:Kt)(this,t)}}function re(){this.textContent=""}function ie(t){return function(){this.textContent=t}}function oe(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ue(){this.innerHTML=""}function ae(t){return function(){this.innerHTML=t}}function se(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function le(){this.nextSibling&&this.parentNode.appendChild(this)}function ce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fe(){return null}function he(){var t=this.parentNode;t&&t.removeChild(this)}function pe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ye(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}Jt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var de={},ge=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(de={mouseenter:"mouseover",mouseleave:"mouseout"}));function me(t,e,n){return t=ve(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ve(t,e,n){return function(r){var i=ge;ge=r;try{t.call(this,this.__data__,e,n)}finally{ge=i}}}function we(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function be(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function _e(t,e,n){var r=de.hasOwnProperty(t.type)?me:ve;return function(i,o,u){var a,s=this.__on,l=r(e,o,u);if(s)for(var c=0,f=s.length;c<f;++c)if((a=s[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},s?s.push(a):this.__on=[a]}}function xe(t,e,n,r){var i=ge;t.sourceEvent=ge,ge=t;try{return e.apply(n,r)}finally{ge=i}}function Ee(t,e,n){var r=jt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ke(t,e){return function(){return Ee(this,t,e)}}function Se(t,e){return function(){return Ee(this,t,e.apply(this,arguments))}}var Ae=[null];function Me(t,e){this._groups=t,this._parents=e}function Ne(){return new Me([[document.documentElement]],Ae)}function Te(t){return"string"==typeof t?new Me([[document.querySelector(t)]],[document.documentElement]):new Me([[t]],Ae)}function Be(){for(var t,e=ge;t=e.sourceEvent;)e=t;return e}function $e(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Ce(t){var e=Be();return e.changedTouches&&(e=e.changedTouches[0]),$e(t,e)}function Le(t,e,n){arguments.length<3&&(n=e,e=Be().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return $e(t,r);return null}function Re(){ge.stopImmediatePropagation()}function Oe(){ge.preventDefault(),ge.stopImmediatePropagation()}function Pe(t){var e=t.document.documentElement,n=Te(t).on("dragstart.drag",Oe,!0);"onselectstart"in e?n.on("selectstart.drag",Oe,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ze(t,e){var n=t.document.documentElement,r=Te(t).on("dragstart.drag",null);e&&(r.on("click.drag",Oe,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ie(t){return function(){return t}}function Ue(t,e,n,r,i,o,u,a,s,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=s,this._=l}function qe(){return!ge.ctrlKey&&!ge.button}function je(){return this.parentNode}function Ve(t){return null==t?{x:ge.x,y:ge.y}:t}function Fe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function De(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ye(){}Me.prototype=Ne.prototype={constructor:Me,select:function(t){"function"!=typeof t&&(t=At(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u,a=e[i],s=a.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=a[c])&&(u=t.call(o,o.__data__,c,a))&&("__data__"in o&&(u.__data__=o.__data__),l[c]=u);return new Me(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Nt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,a=e[o],s=a.length,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new Me(r,i)},filter:function(t){"function"!=typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u=e[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new Me(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each((function(t){p[++l]=t})),p;var n=e?Lt:Ct,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),s=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],h=f.length,p=t.call(c,c&&c.__data__,l,r),y=p.length,d=a[l]=new Array(y),g=u[l]=new Array(y);n(c,f,d,g,s[l]=new Array(h),p,e);for(var m,v,w=0,b=0;w<y;++w)if(m=d[w]){for(w>=b&&(b=w+1);!(v=g[b])&&++b<y;);m._next=v||null}}return(u=new Me(u,r))._enter=a,u._exit=s,u},enter:function(){return new Me(this._enter||this._groups.map(Bt),this._parents)},exit:function(){return new Me(this._exit||this._groups.map(Bt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=e[a],c=n[a],f=l.length,h=u[a]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;a<r;++a)u[a]=e[a];return new Me(u,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Rt);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,a=n[o],s=a.length,l=i[o]=new Array(s),c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new Me(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,e){var n=_t(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Pt:Ot:"function"==typeof e?n.local?qt:Ut:n.local?It:zt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Vt:"function"==typeof e?Xt:Ft)(t,e,null==n?"":n)):Dt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Yt:"function"==typeof e?Gt:Ht)(t,e)):this.node()[t]},classed:function(t,e){var n=Qt(t+"");if(arguments.length<2){for(var r=Zt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ne:e?te:ee)(n,e))},text:function(t){return arguments.length?this.each(null==t?re:("function"==typeof t?oe:ie)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ue:("function"==typeof t?se:ae)(t)):this.node().innerHTML},raise:function(){return this.each(le)},lower:function(){return this.each(ce)},append:function(t){var e="function"==typeof t?t:kt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:kt(t),r=null==e?fe:"function"==typeof e?e:At(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(he)},clone:function(t){return this.select(t?ye:pe)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=we(t+""),u=o.length;if(!(arguments.length<2)){for(a=e?_e:be,null==n&&(n=!1),r=0;r<u;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var s,l=0,c=a.length;l<c;++l)for(r=0,s=a[l];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?Se:ke)(t,e))}},Ue.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var He=.7,Ge=1/He,Qe="\\s*([+-]?\\d+)\\s*",Ze="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Je="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",We=/^#([0-9a-f]{3,8})$/,Ke=new RegExp("^rgb\\("+[Qe,Qe,Qe]+"\\)$"),tn=new RegExp("^rgb\\("+[Je,Je,Je]+"\\)$"),en=new RegExp("^rgba\\("+[Qe,Qe,Qe,Ze]+"\\)$"),nn=new RegExp("^rgba\\("+[Je,Je,Je,Ze]+"\\)$"),rn=new RegExp("^hsl\\("+[Ze,Je,Je]+"\\)$"),on=new RegExp("^hsla\\("+[Ze,Je,Je,Ze]+"\\)$"),un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function an(){return this.rgb().formatHex()}function sn(){return this.rgb().formatRgb()}function ln(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=We.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?cn(e):3===n?new yn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?fn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?fn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ke.exec(t))?new yn(e[1],e[2],e[3],1):(e=tn.exec(t))?new yn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=en.exec(t))?fn(e[1],e[2],e[3],e[4]):(e=nn.exec(t))?fn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=rn.exec(t))?vn(e[1],e[2]/100,e[3]/100,1):(e=on.exec(t))?vn(e[1],e[2]/100,e[3]/100,e[4]):un.hasOwnProperty(t)?cn(un[t]):"transparent"===t?new yn(NaN,NaN,NaN,0):null}function cn(t){return new yn(t>>16&255,t>>8&255,255&t,1)}function fn(t,e,n,r){return r<=0&&(t=e=n=NaN),new yn(t,e,n,r)}function hn(t){return t instanceof Ye||(t=ln(t)),t?new yn((t=t.rgb()).r,t.g,t.b,t.opacity):new yn}function pn(t,e,n,r){return 1===arguments.length?hn(t):new yn(t,e,n,null==r?1:r)}function yn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function dn(){return"#"+mn(this.r)+mn(this.g)+mn(this.b)}function gn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function mn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function vn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bn(t,e,n,r)}function wn(t){if(t instanceof bn)return new bn(t.h,t.s,t.l,t.opacity);if(t instanceof Ye||(t=ln(t)),!t)return new bn;if(t instanceof bn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,a=o-i,s=(o+i)/2;return a?(u=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=s<.5?o+i:2-o-i,u*=60):a=s>0&&s<1?0:u,new bn(u,a,s,t.opacity)}function bn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function _n(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function xn(t){return function(){return t}}function En(t){return 1==(t=+t)?kn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):xn(isNaN(e)?n:e)}}function kn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):xn(isNaN(t)?e:t)}Xe(Ye,ln,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:an,formatHex:an,formatHsl:function(){return wn(this).formatHsl()},formatRgb:sn,toString:sn}),Xe(yn,pn,De(Ye,{brighter:function(t){return t=null==t?Ge:Math.pow(Ge,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?He:Math.pow(He,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dn,formatHex:dn,formatRgb:gn,toString:gn})),Xe(bn,(function(t,e,n,r){return 1===arguments.length?wn(t):new bn(t,e,n,null==r?1:r)}),De(Ye,{brighter:function(t){return t=null==t?Ge:Math.pow(Ge,t),new bn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?He:Math.pow(He,t),new bn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yn(_n(t>=240?t-240:t+120,i,r),_n(t,i,r),_n(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Sn=function t(e){var n=En(e);function r(t,e){var r=n((t=pn(t)).r,(e=pn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),u=kn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=u(e),t+""}}return r.gamma=t,r}(1);function An(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Mn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nn=new RegExp(Mn.source,"g");function Tn(t,e){var n,r,i,o=Mn.lastIndex=Nn.lastIndex=0,u=-1,a=[],s=[];for(t+="",e+="";(n=Mn.exec(t))&&(r=Nn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(n=n[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,s.push({i:u,x:An(n,r)})),o=Nn.lastIndex;return o<e.length&&(i=e.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)a[(n=s[r]).i]=n.x(t);return a.join("")})}var Bn,$n,Cn,Ln,Rn=180/Math.PI,On={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pn(t,e,n,r,i,o){var u,a,s;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,s/=a),t*r<e*n&&(t=-t,e=-e,s=-s,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Rn,skewX:Math.atan(s)*Rn,scaleX:u,scaleY:a}}function zn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],s=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var s=u.push("translate(",null,e,null,n);a.push({i:s-4,x:An(t,i)},{i:s-2,x:An(r,o)})}else(i||o)&&u.push("translate("+i+e+o+n)}(o.translateX,o.translateY,u.translateX,u.translateY,a,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:An(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,u.rotate,a,s),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:An(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,u.skewX,a,s),function(t,e,n,r,o,u){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:An(t,n)},{i:a-2,x:An(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,s),o=u=null,function(t){for(var e,n=-1,r=s.length;++n<r;)a[(e=s[n]).i]=e.x(t);return a.join("")}}}var In=zn((function(t){return"none"===t?On:(Bn||(Bn=document.createElement("DIV"),$n=document.documentElement,Cn=document.defaultView),Bn.style.transform=t,t=Cn.getComputedStyle($n.appendChild(Bn),null).getPropertyValue("transform"),$n.removeChild(Bn),Pn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Un=zn((function(t){return null==t?On:(Ln||(Ln=document.createElementNS("http://www.w3.org/2000/svg","g")),Ln.setAttribute("transform",t),(t=Ln.transform.baseVal.consolidate())?Pn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):On)}),", ",")",")"),qn=Math.SQRT2;function jn(t){return((t=Math.exp(t))+1/t)/2}function Vn(t,e){var n,r,i=t[0],o=t[1],u=t[2],a=e[0],s=e[1],l=e[2],c=a-i,f=s-o,h=c*c+f*f;if(h<1e-12)r=Math.log(l/u)/qn,n=function(t){return[i+t*c,o+t*f,u*Math.exp(qn*t*r)]};else{var p=Math.sqrt(h),y=(l*l-u*u+4*h)/(2*u*2*p),d=(l*l-u*u-4*h)/(2*l*2*p),g=Math.log(Math.sqrt(y*y+1)-y),m=Math.log(Math.sqrt(d*d+1)-d);r=(m-g)/qn,n=function(t){var e=t*r,n=jn(g),a=u/(2*p)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(qn*e+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+a*c,o+a*f,u*n/jn(qn*e+g)]}}return n.duration=1e3*r,n}var Fn,Xn,Dn=0,Yn=0,Hn=0,Gn=0,Qn=0,Zn=0,Jn="object"==typeof performance&&performance.now?performance:Date,Wn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kn(){return Qn||(Wn(tr),Qn=Jn.now()+Zn)}function tr(){Qn=0}function er(){this._call=this._time=this._next=null}function nr(t,e,n){var r=new er;return r.restart(t,e,n),r}function rr(){Qn=(Gn=Jn.now())+Zn,Dn=Yn=0;try{!function(){Kn(),++Dn;for(var t,e=Fn;e;)(t=Qn-e._time)>=0&&e._call.call(null,t),e=e._next;--Dn}()}finally{Dn=0,function(){var t,e,n=Fn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Fn=e);Xn=t,or(r)}(),Qn=0}}function ir(){var t=Jn.now(),e=t-Gn;e>1e3&&(Zn-=e,Gn=t)}function or(t){Dn||(Yn&&(Yn=clearTimeout(Yn)),t-Qn>24?(t<1/0&&(Yn=setTimeout(rr,t-Jn.now()-Zn)),Hn&&(Hn=clearInterval(Hn))):(Hn||(Gn=Jn.now(),Hn=setInterval(ir,1e3)),Dn=1,Wn(rr)))}function ur(t,e,n){var r=new er;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}er.prototype=nr.prototype={constructor:er,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Kn():+n)+(null==e?0:+e),this._next||Xn===this||(Xn?Xn._next=this:Fn=this,Xn=this),this._call=t,this._time=n,or()},stop:function(){this._call&&(this._call=null,this._time=1/0,or())}};var ar=yt("start","end","cancel","interrupt"),sr=[];function lr(t,e,n,r,i,o){var u=t.__transition;if(u){if(n in u)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(u,n.delay,n.time),n.delay<=t&&u(t-n.delay)}function u(o){var l,c,f,h;if(1!==n.state)return s();for(l in i)if((h=i[l]).name===n.name){if(3===h.state)return ur(u);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(ur((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=nr(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:ar,tween:sr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function cr(t,e){var n=hr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function fr(t,e){var n=hr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function hr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function pr(t,e){var n,r,i,o=t.__transition,u=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):u=!1;u&&delete t.__transition}}function yr(t,e){var n,r;return function(){var i=fr(this,t),o=i.tween;if(o!==n)for(var u=0,a=(r=n=o).length;u<a;++u)if(r[u].name===e){(r=r.slice()).splice(u,1);break}i.tween=r}}function dr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=fr(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:e,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===e){i[s]=a;break}s===l&&i.push(a)}o.tween=i}}function gr(t,e,n){var r=t._id;return t.each((function(){var t=fr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return hr(t,r).value[e]}}function mr(t,e){var n;return("number"==typeof e?An:e instanceof ln?Sn:(n=ln(e))?(e=n,Sn):Tn)(t,e)}function vr(t){return function(){this.removeAttribute(t)}}function wr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function br(t,e,n){var r,i,o=n+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=e(r=u,n)}}function _r(t,e,n){var r,i,o=n+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=e(r=u,n)}}function xr(t,e,n){var r,i,o;return function(){var u,a,s=n(this);if(null!=s)return(u=this.getAttribute(t))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=e(r=u,s));this.removeAttribute(t)}}function Er(t,e,n){var r,i,o;return function(){var u,a,s=n(this);if(null!=s)return(u=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=e(r=u,s));this.removeAttributeNS(t.space,t.local)}}function kr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Sr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ar(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Sr(t,i)),n}return i._value=e,i}function Mr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&kr(t,i)),n}return i._value=e,i}function Nr(t,e){return function(){cr(this,t).delay=+e.apply(this,arguments)}}function Tr(t,e){return e=+e,function(){cr(this,t).delay=e}}function Br(t,e){return function(){fr(this,t).duration=+e.apply(this,arguments)}}function $r(t,e){return e=+e,function(){fr(this,t).duration=e}}function Cr(t,e){if("function"!=typeof e)throw new Error;return function(){fr(this,t).ease=e}}function Lr(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?cr:fr;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(e,n),u.on=i}}var Rr=Ne.prototype.constructor;function Or(t){return function(){this.style.removeProperty(t)}}function Pr(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zr(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Pr(t,o,n)),r}return o._value=e,o}function Ir(t){return function(e){this.textContent=t.call(this,e)}}function Ur(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Ir(r)),e}return r._value=t,r}var qr=0;function jr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Vr(){return++qr}var Fr=Ne.prototype;jr.prototype={constructor:jr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=At(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,s,l=r[u],c=l.length,f=o[u]=new Array(c),h=0;h<c;++h)(a=l[h])&&(s=t.call(a,a.__data__,h,l))&&("__data__"in a&&(s.__data__=a.__data__),f[h]=s,lr(f[h],e,n,h,f,hr(a,n)));return new jr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Nt(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var s,l=r[a],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,p=t.call(s,s.__data__,f,l),y=hr(s,n),d=0,g=p.length;d<g;++d)(h=p[d])&&lr(h,e,n,d,p,y);o.push(p),u.push(s)}return new jr(o,u,e,n)},filter:function(t){"function"!=typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u=e[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new jr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=e[a],c=n[a],f=l.length,h=u[a]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;a<r;++a)u[a]=e[a];return new jr(u,this._parents,this._name,this._id)},selection:function(){return new Rr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Vr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)if(u=a[l]){var c=hr(u,e);lr(u,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new jr(r,this._parents,t,n)},call:Fr.call,nodes:Fr.nodes,node:Fr.node,size:Fr.size,empty:Fr.empty,each:Fr.each,on:function(t,e){var n=this._id;return arguments.length<2?hr(this.node(),n).on.on(t):this.each(Lr(n,t,e))},attr:function(t,e){var n=_t(t),r="transform"===n?Un:mr;return this.attrTween(t,"function"==typeof e?(n.local?Er:xr)(n,r,gr(this,"attr."+t,e)):null==e?(n.local?wr:vr)(n):(n.local?_r:br)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=_t(t);return this.tween(n,(r.local?Ar:Mr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?In:mr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Dt(this,t),u=(this.style.removeProperty(t),Dt(this,t));return o===u?null:o===n&&u===r?i:i=e(n=o,r=u)}}(t,r)).on("end.style."+t,Or(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var u=Dt(this,t),a=n(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=Dt(this,t)),u===s?null:u===r&&s===i?o:(i=s,o=e(r=u,a))}}(t,r,gr(this,"style."+t,e))).each(function(t,e){var n,r,i,o,u="style."+e,a="end."+u;return function(){var s=fr(this,t),l=s.on,c=null==s.value[u]?o||(o=Or(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(a,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var u=Dt(this,t);return u===o?null:u===r?i:i=e(r=u,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,zr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(gr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Ur(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=hr(this.node(),n).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?yr:dr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Nr:Tr)(e,t)):hr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Br:$r)(e,t)):hr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Cr(e,t)):hr(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,u){var a={value:u},s={value:function(){0==--i&&o()}};n.each((function(){var n=fr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),n.on=e}))}))}};var Xr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Dr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Xr.time=Kn(),Xr;return n}Ne.prototype.interrupt=function(t){return this.each((function(){pr(this,t)}))},Ne.prototype.transition=function(t){var e,n;t instanceof jr?(e=t._id,t=t._name):(e=Vr(),(n=Xr).time=Kn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)(u=a[l])&&lr(u,t,e,l,a,n||Dr(u,e));return new jr(r,this._parents,t,e)};var Yr=Math.PI,Hr=2*Yr,Gr=1e-6,Qr=Hr-Gr;function Zr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Jr(){return new Zr}Zr.prototype=Jr.prototype={constructor:Zr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,u=this._y1,a=n-t,s=r-e,l=o-t,c=u-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Gr)if(Math.abs(c*a-s*l)>Gr&&i){var h=n-o,p=r-u,y=a*a+s*s,d=h*h+p*p,g=Math.sqrt(y),m=Math.sqrt(f),v=i*Math.tan((Yr-Math.acos((y+f-d)/(2*g*m)))/2),w=v/m,b=v/g;Math.abs(w-1)>Gr&&(this._+="L"+(t+w*l)+","+(e+w*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*p)+","+(this._x1=t+b*a)+","+(this._y1=e+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var u=(n=+n)*Math.cos(r),a=n*Math.sin(r),s=t+u,l=e+a,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>Gr||Math.abs(this._y1-l)>Gr)&&(this._+="L"+s+","+l),n&&(f<0&&(f=f%Hr+Hr),f>Qr?this._+="A"+n+","+n+",0,1,"+c+","+(t-u)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>Gr&&(this._+="A"+n+","+n+",0,"+ +(f>=Yr)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Wr="$";function Kr(){}function ti(t,e){var n=new Kr;if(t instanceof Kr)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var u in t)n.set(u,t[u]);return n}function ei(){}Kr.prototype=ti.prototype={constructor:Kr,has:function(t){return Wr+t in this},get:function(t){return this[Wr+t]},set:function(t,e){return this[Wr+t]=e,this},remove:function(t){var e=Wr+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Wr&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Wr&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Wr&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Wr&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Wr&&++t;return t},empty:function(){for(var t in this)if(t[0]===Wr)return!1;return!0},each:function(t){for(var e in this)e[0]===Wr&&t(this[e],e.slice(1),this)}};var ni=ti.prototype;function ri(t){return function(){return t}}function ii(){return 1e-6*(Math.random()-.5)}function oi(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,u,a,s,l,c,f,h,p=t._root,y={data:r},d=t._x0,g=t._y0,m=t._x1,v=t._y1;if(!p)return t._root=y,t;for(;p.length;)if((l=e>=(o=(d+m)/2))?d=o:m=o,(c=n>=(u=(g+v)/2))?g=u:v=u,i=p,!(p=p[f=c<<1|l]))return i[f]=y,t;if(a=+t._x.call(null,p.data),s=+t._y.call(null,p.data),e===a&&n===s)return y.next=p,i?i[f]=y:t._root=y,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(o=(d+m)/2))?d=o:m=o,(c=n>=(u=(g+v)/2))?g=u:v=u}while((f=c<<1|l)==(h=(s>=u)<<1|a>=o));return i[h]=p,i[f]=y,t}function ui(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function ai(t){return t[0]}function si(t){return t[1]}function li(t,e,n){var r=new ci(null==e?ai:e,null==n?si:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ci(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function fi(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}ei.prototype={constructor:ei,has:ni.has,add:function(t){return this[Wr+(t+="")]=t,this},remove:ni.remove,clear:ni.clear,values:ni.keys,size:ni.size,empty:ni.empty,each:ni.each};var hi=li.prototype=ci.prototype;function pi(t){return t.index}function yi(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function di(t){return t.x}function gi(t){return t.y}hi.copy=function(){var t,e,n=new ci(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=fi(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=fi(e));return n},hi.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return oi(this.cover(e,n),e,n,t)},hi.addAll=function(t){var e,n,r,i,o=t.length,u=new Array(o),a=new Array(o),s=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(u[n]=r,a[n]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),n=0;n<o;++n)oi(this,u[n],a[n],t[n]);return this},hi.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var u,a,s=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,(u=new Array(4))[a]=l,l=u,s*=2,a){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},hi.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},hi.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},hi.find=function(t,e,n){var r,i,o,u,a,s,l,c=this._x0,f=this._y0,h=this._x1,p=this._y1,y=[],d=this._root;for(d&&y.push(new ui(d,c,f,h,p)),null==n?n=1/0:(c=t-n,f=e-n,h=t+n,p=e+n,n*=n);s=y.pop();)if(!(!(d=s.node)||(i=s.x0)>h||(o=s.y0)>p||(u=s.x1)<c||(a=s.y1)<f))if(d.length){var g=(i+u)/2,m=(o+a)/2;y.push(new ui(d[3],g,m,u,a),new ui(d[2],i,m,g,a),new ui(d[1],g,o,u,m),new ui(d[0],i,o,g,m)),(l=(e>=m)<<1|t>=g)&&(s=y[y.length-1],y[y.length-1]=y[y.length-1-l],y[y.length-1-l]=s)}else{var v=t-+this._x.call(null,d.data),w=e-+this._y.call(null,d.data),b=v*v+w*w;if(b<n){var _=Math.sqrt(n=b);c=t-_,f=e-_,h=t+_,p=e+_,r=d.data}}return r},hi.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var e,n,r,i,o,u,a,s,l,c,f,h,p=this._root,y=this._x0,d=this._y0,g=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(a=(y+g)/2))?y=a:g=a,(c=u>=(s=(d+m)/2))?d=s:m=s,e=p,!(p=p[f=c<<1|l]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)},hi.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},hi.root=function(){return this._root},hi.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},hi.visit=function(t){var e,n,r,i,o,u,a=[],s=this._root;for(s&&a.push(new ui(s,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(s=e.node,r=e.x0,i=e.y0,o=e.x1,u=e.y1)&&s.length){var l=(r+o)/2,c=(i+u)/2;(n=s[3])&&a.push(new ui(n,l,c,o,u)),(n=s[2])&&a.push(new ui(n,r,c,l,u)),(n=s[1])&&a.push(new ui(n,l,i,o,c)),(n=s[0])&&a.push(new ui(n,r,i,l,c))}return this},hi.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new ui(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,u=e.x0,a=e.y0,s=e.x1,l=e.y1,c=(u+s)/2,f=(a+l)/2;(o=i[0])&&n.push(new ui(o,u,a,c,f)),(o=i[1])&&n.push(new ui(o,c,a,s,f)),(o=i[2])&&n.push(new ui(o,u,f,c,l)),(o=i[3])&&n.push(new ui(o,c,f,s,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},hi.x=function(t){return arguments.length?(this._x=t,this):this._x},hi.y=function(t){return arguments.length?(this._y=t,this):this._y};var mi=Math.PI*(3-Math.sqrt(5));function vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var wi=Array.prototype.slice,bi={name:"implicit"};function _i(t){return function(){return t}}var xi=Math.PI,Ei=2*xi,ki={draw:function(t,e){var n=Math.sqrt(e/xi);t.moveTo(n,0),t.arc(0,0,n,0,Ei)}};function Si(t){return function(){return t}}function Ai(t,e,n){this.target=t,this.type=e,this.transform=n}function Mi(t,e,n){this.k=t,this.x=e,this.y=n}Mi.prototype={constructor:Mi,scale:function(t){return 1===t?this:new Mi(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Mi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ni=new Mi(1,0,0);function Ti(){ge.stopImmediatePropagation()}function Bi(){ge.preventDefault(),ge.stopImmediatePropagation()}function $i(){return!ge.ctrlKey&&!ge.button}function Ci(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Li(){return this.__zoom||Ni}function Ri(){return-ge.deltaY*(1===ge.deltaMode?.05:ge.deltaMode?1:.002)}function Oi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pi(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}var zi={Movie:t=>t.properties.title,Person:t=>t.properties.name},Ii=function t(){var e=ti(),n=[],r=[],i=bi;function o(t){var o=t+"",u=e.get(o);if(!u){if(i!==bi)return i;e.set(o,u=n.push(t))}return r[(u-1)%r.length]}return o.domain=function(t){if(!arguments.length)return n.slice();n=[],e=ti();for(var r,i,u=-1,a=t.length;++u<a;)e.has(i=(r=t[u])+"")||e.set(i,n.push(r));return o},o.range=function(t){return arguments.length?(r=wi.call(t),o):r.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return t(n,r).unknown(i)},vi.apply(o,arguments),o}(["#2f855a","#319795","#2c5282","#434190","#553c9a","#9b2c2c","#9c4221","#975a16","#97266d","#2d3748"]),Ui=function(t){var e=void 0!==t.labels?t.labels[0]:"Default";return Ii(e)||"gray"},qi=function(t){for(let e=0;e<t.labels.length;e++)if(zi[t.labels[e]])return zi[t.labels[e]](t);return t.id};function ji(t,e){var n=Te(t).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 600 400"),r={x:(+n.attr("width")||t.clientWidth)/2,y:(+n.attr("height")||t.clientHeight)/2},i=n.append("g").attr("class","everything"),o=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,a=ti(),s=nr(c),l=yt("tick","end");function c(){f(),l.call("tick",e),n<r&&(s.stop(),l.call("end",e))}function f(r){var s,l,c=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,a.each((function(t){t(n)})),s=0;s<c;++s)null==(l=t[s]).fx?l.x+=l.vx*=u:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=u:(l.y=l.fy,l.vy=0);return e}function h(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(n),o=n*mi;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),h(),e={tick:f,restart:function(){return s.restart(c),e},stop:function(){return s.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),a.each(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(u=1-t,e):1-u},force:function(t,n){return arguments.length>1?(null==n?a.remove(t):a.set(t,p(n)),e):a.get(t)},find:function(e,n,r){var i,o,u,a,s,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(u=(i=e-(a=t[l]).x)*i+(o=n-a.y)*o)<r&&(s=a,r=u);return s},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}().force("charge",function(){var t,e,n,r,i=ri(-30),o=1,u=1/0,a=.81;function s(r){var i,o=t.length,u=li(t,di,gi).visitAfter(c);for(n=r,i=0;i<o;++i)e=t[i],u.visit(f)}function l(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function c(t){var e,n,i,o,u,a=0,s=0;if(t.length){for(i=o=u=0;u<4;++u)(e=t[u])&&(n=Math.abs(e.value))&&(a+=e.value,s+=n,i+=n*e.x,o+=n*e.y);t.x=i/s,t.y=o/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=r[e.data.index]}while(e=e.next)}t.value=a}function f(t,i,s,l){if(!t.value)return!0;var c=t.x-e.x,f=t.y-e.y,h=l-i,p=c*c+f*f;if(h*h/a<p)return p<u&&(0===c&&(p+=(c=ii())*c),0===f&&(p+=(f=ii())*f),p<o&&(p=Math.sqrt(o*p)),e.vx+=c*t.value*n/p,e.vy+=f*t.value*n/p),!0;if(!(t.length||p>=u)){(t.data!==e||t.next)&&(0===c&&(p+=(c=ii())*c),0===f&&(p+=(f=ii())*f),p<o&&(p=Math.sqrt(o*p)));do{t.data!==e&&(h=r[t.data.index]*n/p,e.vx+=c*h,e.vy+=f*h)}while(t=t.next)}}return s.initialize=function(e){t=e,l()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:ri(+t),l(),s):i},s.distanceMin=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s.distanceMax=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s.theta=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s}().strength(-1e3)).force("center",function(t,e){var n;function r(){var r,i,o=n.length,u=0,a=0;for(r=0;r<o;++r)u+=(i=n[r]).x,a+=i.y;for(u=u/o-t,a=a/o-e,r=0;r<o;++r)(i=n[r]).x-=u,i.y-=a}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}(r.x,r.y));(function(){var t,e,n=$i,r=Ci,i=Pi,o=Ri,u=Oi,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Vn,f=yt("start","zoom","end"),h=500,p=0;function y(t){t.property("__zoom",Li).on("wheel.zoom",_).on("mousedown.zoom",x).on("dblclick.zoom",E).filter(u).on("touchstart.zoom",k).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new Mi(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Mi(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function v(t,e,n){t.on("start.zoom",(function(){w(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=w(t,i),u=r.apply(t,i),a=null==n?m(u):"function"==typeof n?n.apply(t,i):n,s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),l=t.__zoom,f="function"==typeof e?e.apply(t,i):e,h=c(l.invert(a).concat(s/l.k),f.invert(a).concat(s/f.k));return function(t){if(1===t)t=f;else{var e=h(t),n=s/e[2];t=new Mi(n,a[0]-e[0]*n,a[1]-e[1]*n)}o.zoom(null,t)}}))}function w(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function _(){if(n.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,r=Math.max(a[0],Math.min(a[1],e.k*Math.pow(2,o.apply(this,arguments)))),u=Ce(this);if(t.wheel)t.mouse[0][0]===u[0]&&t.mouse[0][1]===u[1]||(t.mouse[1]=e.invert(t.mouse[0]=u)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[u,e.invert(u)],pr(this),t.start()}Bi(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(g(d(e,r),t.mouse[0],t.mouse[1]),t.extent,s))}function l(){t.wheel=null,t.end()}}function x(){if(!e&&n.apply(this,arguments)){var t=w(this,arguments,!0),r=Te(ge.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",c,!0),o=Ce(this),u=ge.clientX,a=ge.clientY;Pe(ge.view),Ti(),t.mouse=[o,this.__zoom.invert(o)],pr(this),t.start()}function l(){if(Bi(),!t.moved){var e=ge.clientX-u,n=ge.clientY-a;t.moved=e*e+n*n>p}t.zoom("mouse",i(g(t.that.__zoom,t.mouse[0]=Ce(t.that),t.mouse[1]),t.extent,s))}function c(){r.on("mousemove.zoom mouseup.zoom",null),ze(ge.view,t.moved),Bi(),t.end()}}function E(){if(n.apply(this,arguments)){var t=this.__zoom,e=Ce(this),o=t.invert(e),u=t.k*(ge.shiftKey?.5:2),a=i(g(d(t,u),e,o),r.apply(this,arguments),s);Bi(),l>0?Te(this).transition().duration(l).call(v,a,e):Te(this).call(y.transform,a)}}function k(){if(n.apply(this,arguments)){var e,r,i,o,u=ge.touches,a=u.length,s=w(this,arguments,ge.changedTouches.length===a);for(Ti(),r=0;r<a;++r)o=[o=Le(this,u,(i=u[r]).identifier),this.__zoom.invert(o),i.identifier],s.touch0?s.touch1||s.touch0[2]===o[2]||(s.touch1=o,s.taps=0):(s.touch0=o,e=!0,s.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(s.taps<2&&(t=setTimeout((function(){t=null}),h)),pr(this),s.start())}}function S(){if(this.__zooming){var e,n,r,o,u=w(this,arguments),a=ge.changedTouches,l=a.length;for(Bi(),t&&(t=clearTimeout(t)),u.taps=0,e=0;e<l;++e)r=Le(this,a,(n=a[e]).identifier),u.touch0&&u.touch0[2]===n.identifier?u.touch0[0]=r:u.touch1&&u.touch1[2]===n.identifier&&(u.touch1[0]=r);if(n=u.that.__zoom,u.touch1){var c=u.touch0[0],f=u.touch0[1],h=u.touch1[0],p=u.touch1[1],y=(y=h[0]-c[0])*y+(y=h[1]-c[1])*y,m=(m=p[0]-f[0])*m+(m=p[1]-f[1])*m;n=d(n,Math.sqrt(y/m)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],o=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!u.touch0)return;r=u.touch0[0],o=u.touch0[1]}u.zoom("touch",i(g(n,r,o),u.extent,s))}}function A(){if(this.__zooming){var t,n,r=w(this,arguments),i=ge.changedTouches,o=i.length;for(Ti(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),h),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var u=Te(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return y.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",Li),t!==r?v(t,e,n):r.interrupt().each((function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},y.scaleBy=function(t,e,n){y.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n)},y.scaleTo=function(t,e,n){y.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,u=null==n?m(t):"function"==typeof n?n.apply(this,arguments):n,a=o.invert(u),l="function"==typeof e?e.apply(this,arguments):e;return i(g(d(o,l),u,a),t,s)}),n)},y.translateBy=function(t,e,n){y.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),s)}))},y.translateTo=function(t,e,n,o){y.transform(t,(function(){var t=r.apply(this,arguments),u=this.__zoom,a=null==o?m(t):"function"==typeof o?o.apply(this,arguments):o;return i(Ni.translate(a[0],a[1]).scale(u.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,s)}),o)},b.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){xe(new Ai(y,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},y.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Si(+t),y):o},y.filter=function(t){return arguments.length?(n="function"==typeof t?t:Si(!!t),y):n},y.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Si(!!t),y):u},y.extent=function(t){return arguments.length?(r="function"==typeof t?t:Si([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):r},y.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],y):[a[0],a[1]]},y.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(t){return arguments.length?(i=t,y):i},y.duration=function(t){return arguments.length?(l=+t,y):l},y.interpolate=function(t){return arguments.length?(c=t,y):c},y.on=function(){var t=f.on.apply(f,arguments);return t===f?y:t},y.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,y):Math.sqrt(p)},y})().on("zoom",(function(){i.attr("transform",ge.transform)}))(n),o.nodes(e.nodes),o.force("link",function(t){var e,n,r,i,o,u=pi,a=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=ri(30),l=1;function c(r){for(var i=0,u=t.length;i<l;++i)for(var a,s,c,f,h,p,y,d=0;d<u;++d)s=(a=t[d]).source,f=(c=a.target).x+c.vx-s.x-s.vx||ii(),h=c.y+c.vy-s.y-s.vy||ii(),f*=p=((p=Math.sqrt(f*f+h*h))-n[d])/p*r*e[d],h*=p,c.vx-=f*(y=o[d]),c.vy-=h*y,s.vx+=f*(y=1-y),s.vy+=h*y}function f(){if(r){var a,s,l=r.length,c=t.length,f=ti(r,u);for(a=0,i=new Array(l);a<c;++a)(s=t[a]).index=a,"object"!=typeof s.source&&(s.source=yi(f,s.source)),"object"!=typeof s.target&&(s.target=yi(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)s=t[a],o[a]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);e=new Array(c),h(),n=new Array(c),p()}}function h(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+a(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+s(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t){r=t,f()},c.links=function(e){return arguments.length?(t=e,f(),c):t},c.id=function(t){return arguments.length?(u=t,c):u},c.iterations=function(t){return arguments.length?(l=+t,c):l},c.strength=function(t){return arguments.length?(a="function"==typeof t?t:ri(+t),h(),c):a},c.distance=function(t){return arguments.length?(s="function"==typeof t?t:ri(+t),p(),c):s},c}(e.links).id((function(t){return t.id})));var u=i.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(e.links).join("line").attr("stroke-width",2),a=i.append("g").attr("class","nodes").selectAll("g").data(e.nodes).enter().append("g").call(function(t){return function(){var t,e,n,r,i=qe,o=je,u=Ve,a=Fe,s={},l=yt("start","drag","end"),c=0,f=0;function h(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&i.apply(this,arguments)){var u=w("mouse",o.apply(this,arguments),Ce,this,arguments);u&&(Te(ge.view).on("mousemove.drag",y,!0).on("mouseup.drag",d,!0),Pe(ge.view),Re(),n=!1,t=ge.clientX,e=ge.clientY,u("start"))}}function y(){if(Oe(),!n){var r=ge.clientX-t,i=ge.clientY-e;n=r*r+i*i>f}s.mouse("drag")}function d(){Te(ge.view).on("mousemove.drag mouseup.drag",null),ze(ge.view,n),Oe(),s.mouse("end")}function g(){if(i.apply(this,arguments)){var t,e,n=ge.changedTouches,r=o.apply(this,arguments),u=n.length;for(t=0;t<u;++t)(e=w(n[t].identifier,r,Le,this,arguments))&&(Re(),e("start"))}}function m(){var t,e,n=ge.changedTouches,r=n.length;for(t=0;t<r;++t)(e=s[n[t].identifier])&&(Oe(),e("drag"))}function v(){var t,e,n=ge.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=s[n[t].identifier])&&(Re(),e("end"))}function w(t,e,n,r,i){var o,a,f,p=n(e,t),y=l.copy();if(xe(new Ue(h,"beforestart",o,t,c,p[0],p[1],0,0,y),(function(){return null!=(ge.subject=o=u.apply(r,i))&&(a=o.x-p[0]||0,f=o.y-p[1]||0,!0)})))return function u(l){var d,g=p;switch(l){case"start":s[t]=u,d=c++;break;case"end":delete s[t],--c;case"drag":p=n(e,t),d=c}xe(new Ue(h,l,o,t,d,p[0]+a,p[1]+f,p[0]-g[0],p[1]-g[1],y),y.apply,y,[l,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:Ie(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:Ie(t),h):o},h.subject=function(t){return arguments.length?(u="function"==typeof t?t:Ie(t),h):u},h.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Ie(!!t),h):a},h.on=function(){var t=l.on.apply(l,arguments);return t===l?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}().on("start",(function(e){ge.active||t.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y})).on("drag",(function(t){t.fx=ge.x,t.fy=ge.y})).on("end",(function(e){ge.active||t.alphaTarget(0).restart(),e.fx=null,e.fy=null}))}(o));a.append("path").attr("fill",Ui).attr("stroke",(function(t){return(ln(Ui(t))||pn(51,51,51)).darker().hex()})).attr("stroke-width",2).attr("d",(function(){return function(){var t=_i(ki),e=_i(64),n=null;function r(){var r;if(n||(n=r=Jr()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:_i(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:_i(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}().type(ki).size(2e3)()})),a.append("text").attr("font-size",10).text(qi).attr("text-anchor","middle").attr("fill","black").attr("x",0).attr("y",4).attr("pointer-events","none"),a.append("title").text((function(t){return t.id})),o.on("tick",(function(){u.attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y)),a.attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}))}))}Array.from(document.querySelectorAll("code.language-gram")).forEach((function(t){var e,n,r=(e=function(t,e){var n=document.createElement("div");n.innerHTML=t,Array.from(n.querySelectorAll("i.conum, b")).map((function(t){n.removeChild(t)}));var r=document.createElement("textarea"),i=n.innerHTML;return"bash"!==e&&"sh"!==e&&"shell"!==e&&"console"!==e||(i=window.neo4jDocs.copyableCommand(i)),r.innerHTML=i,r.value}(t),n=ot(e),{nodes:rt(n).map(st),links:it(n).map(ft),paths:[]});ji(function(t){var e=t.parentElement,n=e.parentElement,r=document.createElement("div");r.setAttribute("class","gram"),n.insertBefore(r,e);var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("width",r.clientWidth),i.setAttribute("height",r.clientHeight),r.appendChild(i),n.insertBefore(r,e),n.removeChild(e),i}(t),r)}))}();
